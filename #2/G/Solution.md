### 题目大意

似乎题目里说得很清楚了。

### subtask3

提交一份不会`Compile Error`的代码。

### subtask1

每次询问暴力枚举取哪些点。

时间复杂度： $\Omicron(2^n*q)$

### subtask2

可以发现，每次询问中可以算每个点的贡献。

所以先枚举根，进行树形DP。设`f[rt][u][k]`表示当前整棵树以rt为根，在以u为根的子树中一定选u点,
且有k个数比大于等于a[i]的方案数。那么一次询问的答案就是$\sum_{i=1}^{d} f[u[i]][u[i]][k[i]]$

考虑怎么求f值。令v为u的一个儿子，有*明显*的转移：$f[rt][u][i]=\sum_{j=0}^{i}f[rt][v][j]*f[rt][u][i-j]$

时间复杂度 $\Omicron(n^2*k^2)$

### subtask4

上面的转移可以看成多项式的乘法。所以可以使用**FFT**。在模意义下，使用**NTT**,良心出题人模数给了`998244353`

时间复杂度：$\Omicron(n^2*k \log k)$

### subtask6

序列上的背包。每次只决策一个点。复杂度显然可以做到$\Omicron(n^2*k)$

### subtask7

和序列上的背包类似，每次只要决策当前这个点选不选就可以。

具体可以参考[2018多省省队联测秘密袭击](http://akteam.top/wordpress/index.php/2018/04/10/bzoj5250/)的题解。这题也是一样，只是在1边转移时由于v点也必须选，情况有一点不一样。

时间复杂度：$\Omicron(n^2* k)$
